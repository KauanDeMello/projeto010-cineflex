{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/kauan/Documents/ProjetosDriven/projeto010-cineflex/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/home/kauan/Documents/ProjetosDriven/projeto010-cineflex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2;import axios from\"axios\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import styled from\"styled-components\";import Rodape from\"./Rodape\";import Dias from\"./Dias\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Sessoes(){var _useParams=useParams(),filmeId=_useParams.filmeId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filme=_useState2[0],setFilme=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sessao=_useState4[0],setSessao=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),semana=_useState8[0],setSemana=_useState8[1];useEffect(function(){var promise=axios.get(\"https://mock-api.driven.com.br/api/v5/cineflex/movies/\".concat(filmeId,\"/showtimes\"));promise.then(function(resposta){setFilme(resposta.data);setSessao(resposta.data.days);});promise.catch(function(erro){alert(\"Algo deu errado. Tente novamente.\");});},[filmeId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ConteudoSessoes,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Selecione o hor\\xE1rio:\"}),/*#__PURE__*/_jsx(SessaoInfos,{children:sessao.map(function(info,index){return/*#__PURE__*/_jsx(Dias,{data:info.date,horarios:info.showtimes,diaSemana:info.weekday,setData:setData,setSemana:setSemana},index);})})]}),/*#__PURE__*/_jsx(Rodape,{filme:filme,data:data,semana:semana})]});}var ConteudoSessoes=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    min-width: 375px;\\n    margin: 0 auto;\\n    margin-bottom: 130px;\\n    margin-top: 100px;\\n\\n    h1 {\\n    height: 50px;\\n    text-align: center;\\n    font-size: 24px;\\n    }\\n\"])));var SessaoInfos=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    align-items: left;\\n    justify-content: center;\\n    padding: 0px 30px;\\n    margin-bottom: 35px;\\n\"])));","map":{"version":3,"names":["axios","useEffect","useState","useParams","styled","Rodape","Dias","Sessoes","filmeId","filme","setFilme","sessao","setSessao","data","setData","semana","setSemana","promise","get","then","resposta","days","catch","erro","alert","map","info","index","date","showtimes","weekday","ConteudoSessoes","div","SessaoInfos"],"sources":["/home/kauan/Documents/ProjetosDriven/projeto010-cineflex/src/components/Sessoes.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Rodape from \"./Rodape\";\nimport Dias from \"./Dias\";\n\nexport default function Sessoes() {\n    const { filmeId } = useParams();\n    const [filme, setFilme] = useState([]);\n    const [sessao, setSessao] = useState([]);\n    const [data, setData] = useState(\"\");\n    const [semana, setSemana] = useState(\"\");\n\n    useEffect(() => {\n        const promise = axios.get(`https://mock-api.driven.com.br/api/v5/cineflex/movies/${filmeId}/showtimes`);\n\n        promise.then((resposta) => {\n            setFilme(resposta.data)\n            setSessao(resposta.data.days)\n        })\n\n        promise.catch((erro) => {\n            alert(\"Algo deu errado. Tente novamente.\")\n        })\n    }, [filmeId])\n\n    return (\n        <>\n            <ConteudoSessoes>\n                <h1>Selecione o hor√°rio:</h1>\n\n                <SessaoInfos>\n                    {sessao.map((info, index) => (\n                        <Dias key={index} data={info.date} horarios={info.showtimes} diaSemana={info.weekday} setData={setData} setSemana={setSemana} />\n                    )\n                    )}\n                </SessaoInfos>\n            </ConteudoSessoes>\n\n            <Rodape filme={filme} data={data} semana={semana} />\n        </>\n    )\n}\n\nconst ConteudoSessoes = styled.div`\n    width: 100%;\n    min-width: 375px;\n    margin: 0 auto;\n    margin-bottom: 130px;\n    margin-top: 100px;\n\n    h1 {\n    height: 50px;\n    text-align: center;\n    font-size: 24px;\n    }\n`\n\nconst SessaoInfos = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    justify-content: center;\n    padding: 0px 30px;\n    margin-bottom: 35px;\n`"],"mappings":"iVAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,MAAOC,KAAP,KAAiB,QAAjB,C,6IAEA,cAAe,SAASC,QAAT,EAAmB,CAC9B,eAAoBJ,SAAS,EAA7B,CAAQK,OAAR,YAAQA,OAAR,CACA,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAA4BR,QAAQ,CAAC,EAAD,CAApC,yCAAOS,MAAP,eAAeC,SAAf,eACA,eAAwBV,QAAQ,CAAC,EAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,eAA4BZ,QAAQ,CAAC,EAAD,CAApC,yCAAOa,MAAP,eAAeC,SAAf,eAEAf,SAAS,CAAC,UAAM,CACZ,GAAMgB,QAAO,CAAGjB,KAAK,CAACkB,GAAN,iEAAmEV,OAAnE,eAAhB,CAEAS,OAAO,CAACE,IAAR,CAAa,SAACC,QAAD,CAAc,CACvBV,QAAQ,CAACU,QAAQ,CAACP,IAAV,CAAR,CACAD,SAAS,CAACQ,QAAQ,CAACP,IAAT,CAAcQ,IAAf,CAAT,CACH,CAHD,EAKAJ,OAAO,CAACK,KAAR,CAAc,SAACC,IAAD,CAAU,CACpBC,KAAK,CAAC,mCAAD,CAAL,CACH,CAFD,EAGH,CAXQ,CAWN,CAAChB,OAAD,CAXM,CAAT,CAaA,mBACI,wCACI,MAAC,eAAD,yBACI,+CADJ,cAGI,KAAC,WAAD,WACKG,MAAM,CAACc,GAAP,CAAW,SAACC,IAAD,CAAOC,KAAP,qBACR,KAAC,IAAD,EAAkB,IAAI,CAAED,IAAI,CAACE,IAA7B,CAAmC,QAAQ,CAAEF,IAAI,CAACG,SAAlD,CAA6D,SAAS,CAAEH,IAAI,CAACI,OAA7E,CAAsF,OAAO,CAAEhB,OAA/F,CAAwG,SAAS,CAAEE,SAAnH,EAAWW,KAAX,CADQ,EAAX,CADL,EAHJ,GADJ,cAYI,KAAC,MAAD,EAAQ,KAAK,CAAElB,KAAf,CAAsB,IAAI,CAAEI,IAA5B,CAAkC,MAAM,CAAEE,MAA1C,EAZJ,GADJ,CAgBH,CAED,GAAMgB,gBAAe,CAAG3B,MAAM,CAAC4B,GAAV,yQAArB,CAcA,GAAMC,YAAW,CAAG7B,MAAM,CAAC4B,GAAV,8NAAjB"},"metadata":{},"sourceType":"module"}